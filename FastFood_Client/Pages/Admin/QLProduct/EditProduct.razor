@page "/editproduct/{ProductId:guid}"
@layout AdminLayout

<!-- begin row -->
<div class="row">
    <div class="col-md-12 m-b-30">
        <!-- begin page title -->
        <div class="d-block d-sm-flex flex-nowrap align-items-center">
            <div class="page-title mb-2 mb-sm-0">
                <h1>Sửa sản phẩm</h1>
            </div>
        </div>
        <!-- end page title -->
    </div>
</div>
<!-- end row -->

<div class="form-group mb-3">
    <a href="products" class="tabledit-edit-button btn btn-danger">
        Trở về
    </a>
</div>

<div class="row">
    <div class="col-lg-8  mx-auto">
        <div class="card card-statistics">
            <!-- Nội dung form thêm sản phẩm -->
            <div class="card-body">
                <EditForm Model="product" OnValidSubmit="UpdateProduct">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="form-group">
                                <label for="productName">Tên Sản Phẩm</label>
                                <InputText class="form-control" id="productName" @bind-Value="productView.ProductName" />
                                <ValidationMessage For="@(() => product.ProductName)" />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="productPrice">Giá Sản Phẩm</label>
                                <InputNumber class="form-control" id="productPrice" @bind-Value="productView.Price" />
                                <ValidationMessage For="@(() => product.Price)" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="productDiscount">Giá giảm</label>
                                <InputNumber class="form-control" id="productDiscount" @bind-Value="productView.Discount" />
                                <ValidationMessage For="@(() => product.Discount)" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <img src="@($"/client/img/shop/{productView.Image}")" width="150" alt="Product Image" />
                    </div>
                    <div class="form-group">
                        <label for="productImage">Hình Ảnh</label>
                        <InputFile id="productImage" OnChange="OnImageChange" />
                    </div>
                    <div class="form-group">
                        <label for="productDescription">Mô Tả</label>
                        <InputTextArea class="form-control" id="productDescription" @bind-Value="productView.Description" rows="3" />
                        <ValidationMessage For="@(() => product.Description)" />
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="productIsActive">Trạng Thái</label>
                                <InputSelect class="form-control" id="productIsActive" @bind-Value="productView.IsActive">
                                    <option value="true">Còn Hàng</option>
                                    <option value="false">Hết Hàng</option>
                                </InputSelect>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="productIsCombo">Là Combo</label>
                                <InputSelect class="form-control" id="productIsCombo" @bind-Value="productView.IsCombo">
                                    <option value="true">Có</option>
                                    <option value="false">Không</option>
                                </InputSelect>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="category-id">Loại</label>
                                <InputSelect class="form-control" id="category-id" @bind-Value="productView.Category_Id">
                                    @foreach (var category in categories)
                                    {
                                        <option value="@category.Id">@category.Name</option>
                                    }
                                </InputSelect>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Cập nhật sản phẩm</button>
                </EditForm>
            </div>
        </div>
    </div>
</div>
<!-- end row -->
